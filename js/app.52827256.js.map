{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/ChessField.vue?aeee","webpack:///./src/components/ChessBoard.vue?fb11","webpack:///./src/App.vue?c650","webpack:///./src/types.ts","webpack:///./src/App.vue?611b","webpack:///./src/chessRules.ts","webpack:///./src/chessAi.ts","webpack:///./src/chessHelpers.ts","webpack:///./src/components/ChessField.vue?0af5","webpack:///./src/components/ChessPiece.vue?0449","webpack:///./src/components/ChessPiece.vue","webpack:///./src/components/ChessPiece.vue?adb1","webpack:///./src/components/ChessPiece.vue?f2fe","webpack:///./src/components/ChessField.vue","webpack:///./src/components/ChessField.vue?3334","webpack:///./src/components/ChessField.vue?6c1d","webpack:///./src/components/ChessBoard.vue?34e6","webpack:///./src/components/ChessBoard.vue","webpack:///./src/components/ChessBoard.vue?9eb4","webpack:///./src/components/ChessBoard.vue?2ce2","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/main.ts","webpack:///./src/components/ChessPiece.vue?93e1"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Kind","Color","GameResult","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","gameState","staticRenderFns","cloneDeep","initialBoard","fields","takenPieces","timerWhite","timerBlack","selectedPiece","possibleMoves","turn","White","isThinking","source","target","isOpponentInCheck","color","check","some","f","undefined","piece","moves","calcPossibleMovesRaw","kind","King","getFieldIdsOfPieces","ids","fieldId","verticalDirs","diagonalDirs","knightMoves","Pawn","concat","getPawnMoves","Bishop","Queen","getStandardMoves","Rook","Knight","calcPossibleMoves","validMoves","newGameState","copy","Black","dirs","maxSteps","pos","x","y","count","getPosition","canTake","forwardId","doubleForwardId","takeLeft","takeRight","targetX","targetY","Math","floor","from","to","movePiece","getCoord","map","toString","getCoordFromId","getBackgroundColor","checkGameState","movesPossible","Pending","BlackWin","WhiteWin","Draw","calculateBestMove","depth","startTime","performance","now","moveCount","blackMoves","allMoves","bestMoves","blackMove","newStateBlack","doAiMove","whiteMoves","worstScore","whiteMove","newStateWhite","score","calcBoardValue","endTime","selectedMove","random","console","log","blackPieces","flatMap","calcPieceValue","RangeError","pieceValue","timerId","board","background","clickFieldRaw","includes","doMove","clearInterval","setInterval","move","tempResult","alert","class","white","IsWhiteBackground","clickable","_v","_s","field","selected","possible","_e","staticStyle","selectable","IsWhite","IsKing","IsQueen","IsBishop","IsKnight","IsRook","IsPawn","IsBlack","component","components","ChessPiece","isBlackTurn","on","$event","onClickMove","_l","whiteTakenPieces","k","style","gridColumn","column","gridRow","isClickable","nativeOn","onClick","whiteTime","blackTakenPieces","IsDraw","IsWhiteWin","IsBlackWin","CloseModal","chessHelper","gameResult","whitePieces","filter","timeDisplay","time","seconds","minutes","round","id","clickField","startBackgroundAi","ChessField","getInitialBoard","ChessBoard","config","productionTip","render","h","$mount"],"mappings":"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","file":"js/app.52827256.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessField.vue?vue&type=style&index=0&id=5e6da116&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessField.vue?vue&type=style&index=0&id=5e6da116&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessBoard.vue?vue&type=style&index=0&id=56093c03&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessBoard.vue?vue&type=style&index=0&id=56093c03&scoped=true&lang=scss&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","var cloneDeep = require('lodash.clonedeep');\n\nexport class GameState {\n  fields: Field[] = [];\n  takenPieces: Piece[] = [];\n  timerWhite: number = 0;\n  timerBlack: number = 0;\n  selectedPiece: number = -1;\n  possibleMoves: number[] = [];\n  turn: Color = Color.White;\n  isThinking: boolean = false;\n\n  constructor(initialBoard: Field[]) {\n    this.timerWhite = 0;\n    this.timerBlack = 0;\n    this.takenPieces = [];\n    this.selectedPiece = -1;\n    this.possibleMoves = [];\n    this.fields = initialBoard;\n    this.turn = Color.White;\n    this.isThinking = false;\n}\n  copy(): GameState {\n    return cloneDeep(this);\n  }\n}\n\nexport class Field {\n  background: Color = Color.White;\n  piece?: Piece = new Piece();\n  name: string = \"A8\";\n}\n\nexport class Piece {\n  color: Color = Color.White;\n  kind: Kind = Kind.Queen;\n}\n\nexport enum Kind {\n    King,\n    Queen,\n    Rook,\n    Bishop,\n    Knight,\n    Pawn\n  }\n  \nexport enum Color {\n    Black,\n    White\n  }\n\nexport enum GameResult {\n  Pending,\n  WhiteWin,\n  BlackWin,\n  Draw\n}\n\nexport class Move {\n  source: number = 0;\n  target: number = 0;\n  constructor(source: number, target: number) {\n    this.source = source;\n    this.target = target;\n  }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('ChessBoard',{staticClass:\"chess-board\",attrs:{\"gameState\":_vm.gameState}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Field, Color, Kind, Piece, GameState, GameResult } from './types';\nvar cloneDeep = require('lodash.clonedeep');\n\nexport function isOpponentInCheck(color: Color, gameState: GameState) {\n    let check = gameState.fields.some((f, i) => {\n        if(f.piece == undefined || f.piece.color != color) { \n            return false;\n        }\n        let moves = calcPossibleMovesRaw(i, gameState);\n        return moves.some(m => {\n            let p = gameState.fields[m].piece;\n            return p != undefined && p.color != color && p.kind === Kind.King\n        });\n    });\n    return check;\n}\nexport function getFieldIdsOfPieces(color: Color, gameState: GameState) {\n    let ids = [];\n\n    for (let fieldId = 0; fieldId < 64; fieldId++) {\n        let piece = gameState.fields[fieldId].piece;\n        if(piece != undefined && piece.color === color) {\n            ids.push(fieldId);\n        }\n    }\n\n    return ids;\n}\nfunction calcPossibleMovesRaw(fieldId: number, gameState: GameState): number[] {\n    let piece = gameState.fields[fieldId].piece as Piece;\n    let color = piece.color;\n    let kind = piece.kind;\n\n    let moves: number[] = []\n\n    let verticalDirs = [[1,0],[0,1],[-1,0],[0,-1]];\n    let diagonalDirs = [[1,1],[1,-1],[-1,1],[-1,-1]];\n    let knightMoves = [[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]];\n\n    if (kind === Kind.Pawn) {\n        moves = moves.concat(getPawnMoves(fieldId, gameState));\n    }\n    if (kind === Kind.Bishop || kind === Kind.Queen) {\n        moves = moves.concat(getStandardMoves(fieldId, gameState, diagonalDirs, 8));\n    }\n    if (kind === Kind.Rook || kind === Kind.Queen) {\n        moves = moves.concat(getStandardMoves(fieldId, gameState, verticalDirs, 8));\n    }\n    if (kind === Kind.King) {\n        moves = moves.concat(getStandardMoves(fieldId, gameState, verticalDirs.concat(diagonalDirs), 1));\n    }\n    if (kind === Kind.Knight) {\n        moves = moves.concat(getStandardMoves(fieldId, gameState, knightMoves, 1));\n    }\n\n    return moves;\n}    \nexport function calcPossibleMoves(fieldId: number, gameState: GameState): number[] {\n    let moves = calcPossibleMovesRaw(fieldId, gameState);\n\n    let piece = gameState.fields[fieldId].piece as Piece;\n    let color = piece.color;\n\n    let validMoves = [];\n\n    // check for each move if it result in check\n    for(let m of moves)\n    {\n        let newGameState = gameState.copy();\n        \n        movePiece(fieldId, m, newGameState);\n\n        if(!isOpponentInCheck(color === Color.White ? Color.Black : Color.White, newGameState)) {\n            validMoves.push(m);\n        }\n    }\n\n    return validMoves;\n}\nfunction getStandardMoves(fieldId: number, gameState: GameState, dirs: number[][], maxSteps: number): ConcatArray<number> {\n    let moves = []\n\n    let piece = gameState.fields[fieldId].piece as Piece;\n    let color = piece.color;\n\n    for(let pos of dirs) {\n        let x = pos[0];\n        let y = pos[1];\n        let count = 1;\n        while (count <= maxSteps) {\n            let pos = getPosition(fieldId, x * count, y * count);\n            if (pos == undefined) {\n                break;\n            }\n            let p = gameState.fields[pos].piece;\n            if (p == undefined) {\n                moves.push(pos as number);\n            } else if(canTake(pos, color, gameState)) {\n                moves.push(pos as number);\n                break;\n            } else {\n                break;\n            }\n            count++;\n        }\n    }\n\n    return moves;\n}\nfunction getPawnMoves(fieldId: number, gameState: GameState): number[] {\n    let moves = []\n\n    let piece = gameState.fields[fieldId].piece as Piece;\n    let color = piece.color;\n\n    //normal move forward\n    let forwardId = color === Color.White ? fieldId - 8 : fieldId + 8;\n    if (gameState.fields[forwardId].piece == undefined) {\n        moves.push(forwardId);\n\n        //check double forward\n        if ((color === Color.White && fieldId >= 8 * 6) || (color === Color.Black && fieldId < 16)) {\n            let doubleForwardId = color === Color.White ? fieldId - 16 : fieldId + 16;\n            if (gameState.fields[doubleForwardId].piece == undefined) {\n                moves.push(doubleForwardId);\n            }\n        }\n    }\n\n    //take to the right\n    let y = color === Color.White ? -1 : 1;\n    let takeLeft = getPosition(fieldId, -1, y);\n    if (canTake(takeLeft, color, gameState)) {\n        moves.push(takeLeft as number);\n    }\n    let takeRight = getPosition(fieldId, 1, y);\n    if (canTake(takeRight, color, gameState)) {\n        moves.push(takeRight as number);\n    }\n\n    return moves;\n}\nfunction canTake(piece: number | undefined, turn: Color, gameState: GameState) {\n    if (piece != undefined) {\n        let p = gameState.fields[piece].piece\n        if (p != undefined && p.color != turn) {\n            return true;\n        }\n    }\n\n    return false;\n}\nfunction getPosition(fieldId: number, x: number, y: number) {\n    let targetX = (fieldId % 8) + x;\n    let targetY = (Math.floor(fieldId / 8)) + y;\n    if (targetX < 0 || targetX >= 8 || targetY < 0 || targetY >= 8) {\n        return undefined;\n    }\n    return targetY * 8 + targetX;\n}\n\nexport function movePiece(from: number, to: number, gameState: GameState) {\n    let movePiece = gameState.fields[from].piece as Piece;\n    gameState.fields[from].piece = undefined;\n    let color = movePiece.color;\n    // add \"to\" piece to taken pieces\n    if (gameState.fields[to].piece as Piece) {\n        gameState.takenPieces.push(gameState.fields[to].piece as Piece)\n    }\n\n    // transform pawns to queens\n    if ((Math.floor(to / 8) == 0 && color === Color.White || Math.floor(to / 8) == 7 && color === Color.Black) && movePiece.kind === Kind.Pawn) {\n        movePiece.kind = Kind.Queen;\n    }\n\n    gameState.fields[to].piece = movePiece;\n}\nexport function getCoord(x: number, y: number): string {\n    let map = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\"];\n    return map[x] + (y + 1).toString();\n}\nexport function getCoordFromId(fieldId: number) {\n    return getCoord(fieldId % 8, 7 - Math.floor(fieldId / 8));\n}\nexport function getBackgroundColor(x: number, y: number): Color {\n    if (y % 2 != 0) {\n        return x % 2 === 0 ? Color.White : Color.Black;\n    }\n    else {\n        return x % 2 === 0 ? Color.Black : Color.White;\n    }\n}\nexport function checkGameState(gameState: GameState): GameResult {\n    let check = isOpponentInCheck(gameState.turn, gameState);\n\n    let movesPossible = gameState.fields.some((f, i) => {\n        if(f.piece == undefined || f.piece.color === gameState.turn) { \n            return false;\n        }\n        let moves = calcPossibleMoves(i, gameState);\n        return moves.length > 0;\n    });\n\n    if(!movesPossible) {\n        gameState.turn = gameState.turn === Color.White ? Color.Black : Color.White;\n        if(check) {\n            return gameState.turn === Color.White ? GameResult.BlackWin : GameResult.WhiteWin;\n        } else {\n            return GameResult.Draw;\n        }\n    }\n\n    return GameResult.Pending;\n}","import { GameState, Color, Kind, GameResult, Move } from './types';\nimport { getFieldIdsOfPieces, calcPossibleMoves, getCoordFromId, movePiece, checkGameState } from './chessRules';\n\nexport function calculateBestMove(gameState: GameState, depth: number): [Move, number] {\n    let startTime = performance.now();\n    let moveCount = 0;\n\n    let blackMoves = allMoves(gameState, Color.Black);\n    \n    let bestMoves: [Move, number][] = blackMoves.map(m => [m, -9999]);\n    \n    for(let blackMove of blackMoves) {\n        // do black move\n        let newStateBlack = gameState.copy();\n        let result = doAiMove(blackMove.source, blackMove.target, newStateBlack);\n        moveCount += 1;\n        // discard move is lost or draw\n        if(result === GameResult.Draw || result === GameResult.WhiteWin) {\n            continue;\n        }\n        // immediately return move if won\n        if(result === GameResult.BlackWin) {\n            return [blackMove, 9999]; \n        }\n\n        let whiteMoves = allMoves(newStateBlack, Color.White);\n        let worstScore = 9999;\n        for(let whiteMove of whiteMoves) {\n            let newStateWhite = newStateBlack.copy();\n            let result = doAiMove(whiteMove.source, whiteMove.target, newStateWhite);\n            moveCount += 1;\n            // discard move is lost or draw\n            if(result === GameResult.Draw || result === GameResult.WhiteWin) {\n                continue;\n            }\n            // immediately return move if won\n            if(result === GameResult.BlackWin) {\n                return [blackMove, 9999]; \n            }\n          \n            if(depth > 1) {\n                // TODO\n            } else {\n                let score = calcBoardValue(newStateWhite);\n                if(score < worstScore) {\n                    worstScore = score;\n                }\n            }\n        }\n        // Check if the worst score of all the white moves is better than during the other black moves\n        if(worstScore === bestMoves[0][1]) {\n            bestMoves.push([blackMove, worstScore]);\n        }\n        if(worstScore > bestMoves[0][1]) {\n            bestMoves = []\n            bestMoves.push([blackMove, worstScore]);\n        }\n    }\n\n    let endTime = performance.now();\n    \n    // select random move from the best ones\n    let selectedMove = bestMoves[Math.floor(Math.random() * bestMoves.length)];\n\n    console.log(\"Selected move: \" + getCoordFromId(selectedMove[0].source) + \" -> \" + getCoordFromId(selectedMove[0].target))\n    console.log(\"Time: \" + (endTime - startTime) + \" ms\");\n    console.log(\"Move Count: \" + moveCount);\n\n    return selectedMove;\n}\n\nfunction doAiMove(source: number, target: number, gameState: GameState) {\n    movePiece(source, target, gameState);\n\n    let result = checkGameState(gameState);\n    if(result !== GameResult.Pending) {\n        return result;\n    }\n\n    if(gameState.turn === Color.White) {\n        gameState.turn = Color.Black;\n    } else {\n        gameState.turn = Color.White;\n    }\n\n    return GameResult.Pending;\n}\n\nfunction allMoves(gameState: GameState, color: Color) {\n    let blackPieces = getFieldIdsOfPieces(color, gameState);\n    \n    let blackMoves = blackPieces.flatMap(fieldId => {\n        let moves = calcPossibleMoves(fieldId, gameState);\n        return moves.map(m => new Move(fieldId, m));\n    });\n\n    return blackMoves;\n}\n\nfunction calcPieceValue(kind: Kind): number {\n    if(kind === Kind.Pawn) {\n        return 1;\n    }\n    if(kind === Kind.Bishop || kind === Kind.Knight) {\n        return 3;\n    }\n    if(kind === Kind.Rook) {\n        return 5;\n    }\n    if(kind === Kind.Queen) {\n        return 9;\n    }\n    if(kind === Kind.King) {\n        return 0;\n    }\n\n    throw new RangeError(\"Unknown Kind: \" + kind);\n}\n\nexport function calcBoardValue(gameState: GameState): number {\n    let value = 0;\n    \n    for(let p of gameState.fields) {\n        if(p.piece == undefined) {\n            continue;\n        }\n\n        let pieceValue = calcPieceValue(p.piece.kind);\n        value += (p.piece.color === Color.Black) ? pieceValue : -pieceValue;\n    }\n    return value;\n}","import { Field, Color, Kind, Piece, GameState, GameResult } from './types';\nimport { calcPossibleMoves, isOpponentInCheck, movePiece, getBackgroundColor, getCoord, checkGameState } from './chessRules'\nimport { calculateBestMove } from './chessAi';\nvar cloneDeep = require('lodash.clonedeep');\n\nexport class ChessHelpers {\n    timerId: number = 0;\n    getInitialBoard(): Field[] {\n        let board: Field[] = []\n        for (let y = 7; y >= 0; y--) {\n            for (let x = 0; x < 8; x++) {\n                let piece: Piece | undefined = undefined;\n\n                if (y === 7 || y === 0) {\n                    if (x === 0 || x === 7) {\n                        piece = { color: Color.Black, kind: Kind.Rook };\n                    }\n                    if (x === 1 || x === 6) {\n                        piece = { color: Color.Black, kind: Kind.Knight };\n                    }\n                    if (x === 2 || x === 5) {\n                        piece = { color: Color.Black, kind: Kind.Bishop };\n                    }\n                    if (x === 3) {\n                        piece = { color: Color.Black, kind: Kind.Queen };\n                    }\n                    if (x === 4) {\n                        piece = { color: Color.Black, kind: Kind.King };\n                    }\n                }\n                if (y === 6 || y === 1) {\n                    piece = { color: Color.Black, kind: Kind.Pawn };\n                }\n\n                if ((y === 1 || y === 0) && piece != undefined) {\n                    piece.color = Color.White;\n                }\n\n                board.push({ background: getBackgroundColor(x, y), name: getCoord(x, y), piece: piece })\n            }\n        }\n        return board;\n    }\n    clickField(fieldId: number, gameState: GameState): GameResult {     \n        if(gameState.turn == Color.Black) {\n            // black is an ai and cannot be controlled by clicking\n            return GameResult.Pending;\n        }\n\n        return this.clickFieldRaw(fieldId, gameState);\n    }\n    clickFieldRaw(fieldId: number, gameState: GameState): GameResult {     \n       \n        // if already selected -> deselect\n        if (gameState.selectedPiece === fieldId) {\n            gameState.selectedPiece = -1;\n            gameState.possibleMoves = [];\n            return GameResult.Pending;\n        }\n\n        // if a piece of the person whos turn it is -> select\n        let p = gameState.fields[fieldId].piece\n        if (p != undefined && p.color === gameState.turn) {\n            gameState.selectedPiece = fieldId;\n            gameState.possibleMoves = calcPossibleMoves(fieldId, gameState);\n            return GameResult.Pending;\n        }\n\n        // if this is a legal move -> do it\n        if (gameState.possibleMoves.includes(fieldId)) {\n            return this.doMove(fieldId, gameState);\n        }\n        \n        return GameResult.Pending;\n    }\n    doMove(fieldId: number, gameState: GameState) {\n        movePiece(gameState.selectedPiece, fieldId, gameState);\n        gameState.selectedPiece = -1;\n        gameState.possibleMoves = [];\n        clearInterval(this.timerId);\n\n        let result = checkGameState(gameState);\n        if(result !== GameResult.Pending) {\n            return result;\n        }\n\n        if(gameState.turn === Color.White) {\n            this.timerId = setInterval(() => gameState.timerBlack++, 1000);\n            gameState.turn = Color.Black;\n        } else {\n            this.timerId = setInterval(() => gameState.timerWhite++, 1000);\n            gameState.turn = Color.White;\n        }\n\n        return GameResult.Pending;\n    }\n    startBackgroundAi(gameState: GameState): GameResult {\n        let result = calculateBestMove(gameState, 1);\n        let move = result[0];\n        let tempResult = this.clickFieldRaw(move.source, gameState);\n        if(tempResult != GameResult.Pending) {\n            alert('WTF');\n        }\n        return this.clickFieldRaw(move.target, gameState);\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"figure\",class:{ white: _vm.IsWhiteBackground(), 'is-clickable': _vm.clickable }},[_c('svg',{staticClass:\"display-block\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\",\"viewBox\":\"0 0 45 45\"}},[_c('text',{staticClass:\"unselectable\",class:{ 'text-color-white': _vm.IsWhiteBackground(), 'text-color-black': !_vm.IsWhiteBackground() },attrs:{\"x\":\"1\",\"y\":\"10\",\"font-size\":\"12\"}},[_vm._v(_vm._s(_vm.field.name))])]),_c('ChessPiece',{staticClass:\"fixed-pos\",attrs:{\"piece\":_vm.field.piece,\"selected\":_vm.selected}}),(_vm.possible && _vm.field.piece === undefined)?_c('svg',{staticClass:\"fixed-pos\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\",\"viewBox\":\"0 0 45 45\"}},[_c('circle',{staticClass:\"move-possible\",attrs:{\"cx\":\"22.5\",\"cy\":\"22.5\",\"r\":\"7\"}})]):_vm._e(),(_vm.possible && _vm.field.piece != undefined)?_c('svg',{staticClass:\"fixed-pos\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\",\"viewBox\":\"0 0 45 45\"}},[_c('rect',{staticClass:\"move-possible-rect\",staticStyle:{\"fill\":\"transparent\",\"stroke-width\":\"11px\"},attrs:{\"x\":\"1.8\",\"y\":\"-30\",\"width\":\"60\",\"height\":\"60\"}})]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"fill-stroke-black\",class:{ selected : _vm.selected, selectable : !_vm.selected  },attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\",\"viewBox\":\"0 0 45 45\"}},[(_vm.IsWhite() && _vm.IsKing())?_c('g',{staticStyle:{\"fill\":\"none\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 22.5,11.63 L 22.5,6\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 20,8 L 25,8\"}}),_c('path',{staticStyle:{\"fill\":\"#ffffff\",\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"}}),_c('path',{staticStyle:{\"fill\":\"#ffffff\"},attrs:{\"d\":\"M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z \"}}),_c('path',{staticStyle:{\"fill\":\"none\"},attrs:{\"d\":\"M 11.5,30 C 17,27 27,27 32.5,30\"}}),_c('path',{staticStyle:{\"fill\":\"none\"},attrs:{\"d\":\"M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\"},attrs:{\"d\":\"M 11.5,37 C 17,34 27,34 32.5,37\"}})]):_vm._e(),(_vm.IsWhite() && _vm.IsQueen())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill\":\"#ffffff\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{attrs:{\"d\":\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\",\"transform\":\"translate(-1,-1)\"}}),_c('path',{attrs:{\"d\":\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\",\"transform\":\"translate(15.5,-5.5)\"}}),_c('path',{attrs:{\"d\":\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\",\"transform\":\"translate(32,-1)\"}}),_c('path',{attrs:{\"d\":\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\",\"transform\":\"translate(7,-4.5)\"}}),_c('path',{attrs:{\"d\":\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\",\"transform\":\"translate(24,-4)\"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z \"}}),_c('path',{staticStyle:{\"fill\":\"none\"},attrs:{\"d\":\"M 11.5,30 C 15,29 30,29 33.5,30\"}}),_c('path',{staticStyle:{\"fill\":\"none\"},attrs:{\"d\":\"M 12,33.5 C 18,32.5 27,32.5 33,33.5\"}})]):_vm._e(),(_vm.IsWhite() && _vm.IsBishop())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill\":\"none\",\"fill-rule\":\"evenodd\",\"fill-opacity\":\"1\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('g',{staticStyle:{\"fill\":\"#ffffff\",\"stroke-linecap\":\"butt\"}},[_c('path',{attrs:{\"d\":\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z\"}}),_c('path',{attrs:{\"d\":\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"}}),_c('path',{attrs:{\"d\":\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"}})]),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"}})]):_vm._e(),(_vm.IsWhite() && _vm.IsKnight())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill\":\"none\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{staticStyle:{\"fill\":\"#ffffff\"},attrs:{\"d\":\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"}}),_c('path',{staticStyle:{\"fill\":\"#ffffff\"},attrs:{\"d\":\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"}}),_c('path',{attrs:{\"d\":\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"}}),_c('path',{attrs:{\"d\":\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\"transform\":\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"}})]):_vm._e(),(_vm.IsWhite() && _vm.IsRook())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill\":\"#ffffff\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14\"}}),_c('path',{attrs:{\"d\":\"M 34,14 L 31,17 L 14,17 L 11,14\"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 31,17 L 31,29.5 L 14,29.5 L 14,17\"}}),_c('path',{attrs:{\"d\":\"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 11,14 L 34,14\"}})]):_vm._e(),(_vm.IsWhite() && _vm.IsPawn())?_c('g',[_c('path',{staticStyle:{\"opacity\":\"1\",\"fill\":\"#ffffff\",\"fill-opacity\":\"1\",\"fill-rule\":\"nonzero\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"miter\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"},attrs:{\"d\":\"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z \"}})]):_vm._e(),(_vm.IsBlack() && _vm.IsKing())?_c('g',{staticStyle:{\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 22.5,11.63 L 22.5,6\"}}),_c('path',{staticStyle:{\"fill-opacity\":\"1\",\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"}}),_c('path',{attrs:{\"d\":\"M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z \"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 20,8 L 25,8\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37\"}})]):_vm._e(),(_vm.IsBlack() && _vm.IsQueen())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('g',{staticStyle:{\"stroke\":\"none\"}},[_c('circle',{attrs:{\"cx\":\"6\",\"cy\":\"12\",\"r\":\"2.75\"}}),_c('circle',{attrs:{\"cx\":\"14\",\"cy\":\"9\",\"r\":\"2.75\"}}),_c('circle',{attrs:{\"cx\":\"22.5\",\"cy\":\"8\",\"r\":\"2.75\"}}),_c('circle',{attrs:{\"cx\":\"31\",\"cy\":\"9\",\"r\":\"2.75\"}}),_c('circle',{attrs:{\"cx\":\"39\",\"cy\":\"12\",\"r\":\"2.75\"}})]),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 11,38.5 A 35,35 1 0 0 34,38.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 11,29 A 35,35 1 0 1 34,29\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 12.5,31.5 L 32.5,31.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5\"}})]):_vm._e(),(_vm.IsBlack() && _vm.IsBishop())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill-rule\":\"evenodd\",\"fill-opacity\":\"1\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('g',{staticStyle:{\"stroke-linecap\":\"butt\"}},[_c('path',{attrs:{\"d\":\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z\"}}),_c('path',{attrs:{\"d\":\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"}}),_c('path',{attrs:{\"d\":\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"}})]),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"}})]):_vm._e(),(_vm.IsBlack() && _vm.IsKnight())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{attrs:{\"d\":\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"}}),_c('path',{attrs:{\"d\":\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"}}),_c('path',{staticStyle:{\"fill\":\"#ffffff\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"}}),_c('path',{staticStyle:{\"fill\":\"#ffffff\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\"transform\":\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"}}),_c('path',{staticStyle:{\"fill\":\"#ffffff\",\"stroke\":\"none\"},attrs:{\"d\":\"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z \"}})]):_vm._e(),(_vm.IsBlack() && _vm.IsRook())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z \"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\",\"stroke-width\":\"1\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 12,35.5 L 33,35.5 L 33,35.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\",\"stroke-width\":\"1\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 13,31.5 L 32,31.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\",\"stroke-width\":\"1\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 14,29.5 L 31,29.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\",\"stroke-width\":\"1\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 14,16.5 L 31,16.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\",\"stroke-width\":\"1\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 11,14 L 34,14\"}})]):_vm._e(),(_vm.IsBlack() && _vm.IsPawn())?_c('g',[_c('path',{staticStyle:{\"opacity\":\"1\",\"fill-opacity\":\"1\",\"fill-rule\":\"nonzero\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"miter\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"},attrs:{\"d\":\"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z \"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { Kind, Color, Piece } from \"@/types\";\n\n@Component\nexport default class ChessPiece extends Vue {\n  @Prop() private piece!: Piece;\n  @Prop() private selected!: boolean;\n\n  IsBlack() {\n    return (\n      this.piece != undefined && this.piece.color == Color.Black\n    );\n  }\n  IsWhite() {\n    return (\n      this.piece != undefined && this.piece.color == Color.White\n    );\n  }\n  IsKing() {\n    return this.piece != undefined && this.piece.kind == Kind.King;\n  }\n  IsQueen() {\n    return this.piece != undefined && this.piece.kind == Kind.Queen;\n  }\n  IsBishop() {\n    return (\n      this.piece != undefined && this.piece.kind == Kind.Bishop\n    );\n  }\n  IsRook() {\n    return this.piece != undefined && this.piece.kind == Kind.Rook;\n  }\n  IsPawn() {\n    return this.piece != undefined && this.piece.kind == Kind.Pawn;\n  }\n  IsKnight() {\n    return (\n      this.piece != undefined && this.piece.kind == Kind.Knight\n    );\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessPiece.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessPiece.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChessPiece.vue?vue&type=template&id=59da3f86&scoped=true&\"\nimport script from \"./ChessPiece.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChessPiece.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ChessPiece.vue?vue&type=style&index=0&id=59da3f86&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59da3f86\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { Color, Field } from \"@/types\";\nimport ChessPiece from \"./ChessPiece.vue\";\n\n@Component({\n  components: {\n    ChessPiece\n  }\n})\nexport default class ChessField extends Vue {\n  @Prop() private field!: Field;\n  @Prop() private selected!: boolean;\n  @Prop() private possible!: boolean;\n  @Prop() private clickable!: boolean;\n  IsWhiteBackground() {\n    return this.field.background == Color.White;\n  }\n  IsWhitePiece() {\n    return this.field.piece != undefined && this.field.piece.color === Color.White;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChessField.vue?vue&type=template&id=5e6da116&scoped=true&\"\nimport script from \"./ChessField.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChessField.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ChessField.vue?vue&type=style&index=0&id=5e6da116&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e6da116\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"border\"},[_c('div',{staticClass:\"info-grid\"},[_c('button',{staticClass:\"move-button shadow\",attrs:{\"disabled\":!_vm.isBlackTurn() || _vm.isThinking()},on:{\"click\":function($event){return _vm.onClickMove()}}},[_vm._v(_vm._s(_vm.isThinking() ? \"Thinking\" : \"Move\"))]),_vm._l((_vm.whiteTakenPieces()),function(p,k){return _c('ChessPiece',{key:k,style:({ gridColumn: p.column, gridRow: 1 }),attrs:{\"piece\":p.piece}})})],2)]),_c('div',{staticClass:\"border\"},[_c('div',{staticClass:\"board shadow\"},_vm._l((_vm.gameState.fields),function(p,k){return _c('ChessField',{key:k,attrs:{\"field\":p,\"possible\":_vm.gameState.possibleMoves.includes(k),\"selected\":k === _vm.gameState.selectedPiece,\"clickable\":_vm.isClickable(k)},nativeOn:{\"click\":function($event){return _vm.onClick(k)}}})}),1)]),_c('div',{staticClass:\"border\"},[_c('div',{staticClass:\"info-grid\"},[_c('div',{staticClass:\"info-text shadow\"},[_vm._v(_vm._s(_vm.whiteTime()))]),_vm._l((_vm.blackTakenPieces()),function(p,k){return _c('ChessPiece',{key:k,style:({ gridColumn: p.column, gridRow: 1 }),attrs:{\"piece\":p.piece}})})],2)]),(_vm.IsDraw() || _vm.IsWhiteWin() || _vm.IsBlackWin())?_c('div',{staticClass:\"modal\"},[_c('div',{staticClass:\"modal-content\"},[_c('span',{staticClass:\"close\",on:{\"click\":function($event){return _vm.CloseModal()}}},[_vm._v(\"×\")]),(_vm.IsDraw())?_c('p',[_vm._v(\"Game ended in a DRAW.\")]):_vm._e(),(_vm.IsWhiteWin())?_c('p',[_vm._v(\"White WIN\")]):_vm._e(),(_vm.IsBlackWin())?_c('p',[_vm._v(\"Black WIN\")]):_vm._e(),_c('p',[_vm._v(\"Reload the site to start a new game\")])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { Color, GameResult, Piece, GameState } from \"@/types\";\nimport ChessField from \"./ChessField.vue\";\nimport ChessPiece from \"./ChessPiece.vue\";\nimport { ChessHelpers } from \"@/chessHelpers\";\n\n@Component({\n  components: {\n    ChessField,\n    ChessPiece\n  }\n})\nexport default class ChessBoard extends Vue {\n  @Prop() private gameState!: GameState;\n  chessHelper = new ChessHelpers();\n  gameResult: GameResult = GameResult.Pending;\n  IsDraw() {\n    return this.gameResult == GameResult.Draw;\n  }\n  isBlackTurn() {\n    return this.gameState.turn === Color.Black;\n  }\n  isThinking() {\n    return this.gameState.isThinking;\n  }\n  IsWhiteWin() {\n    return this.gameResult == GameResult.WhiteWin;\n  }\n  IsBlackWin() {\n    return this.gameResult == GameResult.BlackWin;\n  }\n  CloseModal() {\n    this.gameResult = GameResult.Pending;\n  }\n  whiteTakenPieces() {\n    let whitePieces = this.gameState.takenPieces.filter(\n      p => p.color == Color.White\n    );\n    return whitePieces.map((p, i) => {\n      return { column: 18 - i, piece: p };\n    });\n  }\n  blackTakenPieces() {\n    let whitePieces = this.gameState.takenPieces.filter(\n      p => p.color == Color.Black\n    );\n    return whitePieces.map((p, i) => {\n      return { column: 18 - i, piece: p };\n    });\n  }\n  whiteTime() {\n    return this.timeDisplay(this.gameState.timerWhite);\n  }\n  blackTime() {\n    return this.timeDisplay(this.gameState.timerBlack);\n  }\n  timeDisplay(time: number) {\n    let seconds = time % 60;\n    let minutes = Math.round(time / 60);\n    return (\"0\" + minutes).slice(-2) + \":\" + (\"0\" + seconds).slice(-2);\n  }\n  onClick(id: number) {\n    this.gameResult = this.chessHelper.clickField(id, this.gameState);\n  }\n  onClickMove() {\n    this.gameState.isThinking = true;\n    this.gameResult = this.chessHelper.startBackgroundAi(this.gameState);\n    this.gameState.isThinking = false;\n  }\n  isClickable(id: number) {\n    if (id === this.gameState.selectedPiece) {\n      return true;\n    }\n\n    if (\n      this.gameState.selectedPiece != -1 &&\n      this.gameState.possibleMoves.includes(id)\n    ) {\n      return true;\n    }\n\n    if (this.gameState.fields[id].piece as Piece) {\n      return (\n        (this.gameState.fields[id].piece as Piece).color == this.gameState.turn\n      );\n    }\n\n    return false;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessBoard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessBoard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChessBoard.vue?vue&type=template&id=56093c03&scoped=true&\"\nimport script from \"./ChessBoard.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChessBoard.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ChessBoard.vue?vue&type=style&index=0&id=56093c03&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56093c03\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { GameState } from \"./types\";\nimport { ChessHelpers } from \"./chessHelpers\"\nimport ChessField from \"./components/ChessField.vue\";\nimport ChessBoard from \"./components/ChessBoard.vue\";\nimport ChessPiece from './components/ChessPiece.vue';\n\n@Component({\n  components: {\n    ChessBoard,\n    ChessField,\n    ChessPiece,\n  }\n})\nexport default class App extends Vue {\n  chessHelper = new ChessHelpers();\n  gameState: GameState = new GameState(this.chessHelper.getInitialBoard());\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=27835bac&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessPiece.vue?vue&type=style&index=0&id=59da3f86&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessPiece.vue?vue&type=style&index=0&id=59da3f86&scoped=true&lang=scss&\""],"sourceRoot":""}