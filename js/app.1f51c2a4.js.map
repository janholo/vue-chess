{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?c650","webpack:///./src/components/ChessPiece.vue?4003","webpack:///./src/components/ChessBoard.vue?28b2","webpack:///./src/App.vue?9a95","webpack:///./src/chessRules.ts","webpack:///./src/types.ts","webpack:///./src/chessAi.ts","webpack:///./src/chessHelpers.ts","webpack:///./src/components/ChessField.vue?5727","webpack:///./src/components/ChessPiece.vue?04bc","webpack:///./src/components/ChessPiece.vue","webpack:///./src/components/ChessPiece.vue?adb1","webpack:///./src/components/ChessPiece.vue?f2fe","webpack:///./src/components/ChessField.vue","webpack:///./src/components/ChessField.vue?3334","webpack:///./src/components/ChessField.vue?6c1d","webpack:///./src/components/ChessBoard.vue?f488","webpack:///./src/components/ChessBoard.vue","webpack:///./src/components/ChessBoard.vue?9eb4","webpack:///./src/components/ChessBoard.vue?2ce2","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/main.ts","webpack:///./src/components/ChessField.vue?c0c0"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","gameState","staticRenderFns","otherColor","color","isSameColor","piece","Color","Black","White","isOtherColor","isSameColorOrEmpty","isOtherColorOrEmpty","getPiece","kind","getColor","RangeError","getKind","Math","abs","isOpponentInCheck","boardState","check","fields","some","f","moves","calcPossibleMovesRaw","colorKing","Kind","King","getFieldIdsOfPieces","ids","fieldId","verticalDirs","diagonalDirs","knightMoves","Pawn","concat","getPawnMoves","Bishop","Queen","getStandardMoves","Rook","Knight","calcPossibleMoves","validMoves","newBoardState","copy","dirs","maxSteps","pos","x","y","count","getPosition","undefined","Piece","Empty","canTake","forwardId","sign","WhitePawn","BlackPawn","doubleForwardId","takeLeft","takeRight","turn","targetX","targetY","floor","from","to","movePiece","oldPiece","takenPieces","getCoord","map","toString","getCoordFromId","getBackgroundColor","calcFieldInfos","field","background","checkGameState","movesPossible","GameResult","Pending","BlackWin","WhiteWin","Draw","getInitialFields","board","BlackRook","BlackKnight","BlackBishop","BlackQueen","BlackKing","fieldInfos","timerWhite","timerBlack","selectedPiece","possibleMoves","isThinking","source","target","calculateBestMove","depth","startTime","performance","now","moveCount","blackMoves","bestMoves","blackMove","newStateBlack","doAiMove","whiteMoves","worstScore","whiteMove","newStateWhite","score","calcBoardValue","endTime","selectedMove","random","console","log","pieces","allMoves","flatMap","calcPieceValue","pieceValue","timerId","clickFieldRaw","includes","doMove","clearInterval","setInterval","move","tempResult","alert","class","white","IsWhiteBackground","clickable","_v","_s","fieldInfo","selected","possible","_e","staticStyle","selectable","IsWhite","IsKing","IsQueen","IsBishop","IsKnight","IsRook","IsPawn","IsBlack","component","components","ChessPiece","isBlackTurn","on","$event","onClickMove","_l","whiteTakenPieces","k","style","gridColumn","column","gridRow","getFieldAndFieldInfo","isClickable","nativeOn","onClick","whiteTime","blackTakenPieces","IsDraw","IsWhiteWin","IsBlackWin","CloseModal","chessHelper","gameResult","zipped","whitePieces","filter","timeDisplay","time","seconds","minutes","round","id","clickField","startBackgroundAi","ChessField","ChessBoard","config","productionTip","render","h","$mount"],"mappings":"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","file":"js/app.1f51c2a4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessPiece.vue?vue&type=style&index=0&id=20be2b0c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessPiece.vue?vue&type=style&index=0&id=20be2b0c&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessBoard.vue?vue&type=style&index=0&id=80130346&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessBoard.vue?vue&type=style&index=0&id=80130346&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('ChessBoard',{staticClass:\"chess-board\",attrs:{\"gameState\":_vm.gameState}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Color, Kind, Piece, GameState, GameResult, FieldInfo, BoardState } from './types';\nvar cloneDeep = require('lodash.clonedeep');\n\nexport function otherColor(color: Color): Color {\n    return (color + 1) % 2;\n}\n\nexport function isSameColor(piece: Piece, color: Color) {\n    if(piece > 0 && color === Color.Black) {\n        return true;\n    }\n    if(piece < 0 && color === Color.White) {\n        return true;\n    }\n    return false;\n}\n\nexport function isOtherColor(piece: Piece, color: Color) {\n    if(piece > 0 && color === Color.White) {\n        return true;\n    }\n    if(piece < 0 && color === Color.Black) {\n        return true;\n    }\n    return false;\n}\n\nexport function isSameColorOrEmpty(piece: Piece, color: Color) {\n    if(piece >= 0 && color === Color.Black) {\n        return true;\n    }\n    if(piece <= 0 && color === Color.White) {\n        return true;\n    }\n    return false;    \n}\n\nexport function isOtherColorOrEmpty(piece: Piece, color: Color) {\n    if(piece >= 0 && color === Color.White) {\n        return true;\n    }\n    if(piece <= 0 && color === Color.Black) {\n        return true;\n    }\n    return false;    \n}\n\nexport function getPiece(color: Color, kind: Kind): Piece {\n    if(color === Color.White) {\n        return -kind;\n    }\n    return <Piece><unknown>kind;\n}\n\nfunction getColor (piece: Piece) {\n    if(piece > 0) {\n        return Color.Black;\n    }\n    if(piece < 0) {\n        return Color.White;\n    }\n\n    throw new RangeError(\"Piece has no color\"); \n}\n\nexport function getKind(piece: Piece): Kind {\n    return <Kind>Math.abs(piece);\n}\n\nexport function isOpponentInCheck(color: Color, boardState: BoardState) {\n    let check = boardState.fields.some((f, i) => {\n        if(isOtherColorOrEmpty(f, color)) { \n            return false;\n        }\n        let moves = calcPossibleMovesRaw(i, boardState);\n        let colorKing = getPiece(otherColor(color), Kind.King)\n        return moves.some(m => {\n            let p = boardState.fields[m];\n            return p === colorKing;\n        });\n    });\n    return check;\n}\nexport function getFieldIdsOfPieces(color: Color, boardState: BoardState) {\n    let ids = [];\n\n    for (let fieldId = 0; fieldId < 64; fieldId++) {\n        let piece = boardState.fields[fieldId];\n        if(isSameColor(piece, color)) {\n            ids.push(fieldId);\n        }\n    }\n\n    return ids;\n}\n\nlet verticalDirs = [[1,0],[0,1],[-1,0],[0,-1]];\nlet diagonalDirs = [[1,1],[1,-1],[-1,1],[-1,-1]];\nlet knightMoves = [[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]];\n\nfunction calcPossibleMovesRaw(fieldId: number, boardState: BoardState): number[] {\n    let piece = boardState.fields[fieldId];\n    let kind = getKind(piece);\n\n    let moves: number[] = []\n\n    if (kind === Kind.Pawn) {\n        moves = moves.concat(getPawnMoves(fieldId, boardState));\n    }\n    if (kind === Kind.Bishop || kind === Kind.Queen) {\n        moves = moves.concat(getStandardMoves(fieldId, boardState, diagonalDirs, 8));\n    }\n    if (kind === Kind.Rook || kind === Kind.Queen) {\n        moves = moves.concat(getStandardMoves(fieldId, boardState, verticalDirs, 8));\n    }\n    if (kind === Kind.King) {\n        moves = moves.concat(getStandardMoves(fieldId, boardState, verticalDirs.concat(diagonalDirs), 1));\n    }\n    if (kind === Kind.Knight) {\n        moves = moves.concat(getStandardMoves(fieldId, boardState, knightMoves, 1));\n    }\n\n    return moves;\n}    \nexport function calcPossibleMoves(fieldId: number, boardState: BoardState): number[] {\n    let moves = calcPossibleMovesRaw(fieldId, boardState);\n\n    let piece = boardState.fields[fieldId];\n    let color = getColor(piece);\n\n    let validMoves = [];\n\n    // check for each move if it result in check\n    for(let m of moves)\n    {\n        let newBoardState = boardState.copy();\n        \n        movePiece(fieldId, m, newBoardState);\n\n        if(!isOpponentInCheck(otherColor(color), newBoardState)) {\n            validMoves.push(m);\n        }\n    }\n\n    return validMoves;\n}\n\nfunction getStandardMoves(fieldId: number, boardState: BoardState, dirs: number[][], maxSteps: number): number[] {\n    let moves = []\n\n    let piece = boardState.fields[fieldId];\n    let color = getColor(piece);\n\n    for(let pos of dirs) {\n        let x = pos[0];\n        let y = pos[1];\n        let count = 1;\n        while (count <= maxSteps) {\n            let pos = getPosition(fieldId, x * count, y * count);\n            if (pos == undefined) {\n                break;\n            }\n            let p = boardState.fields[pos];\n            if (p === Piece.Empty) {\n                moves.push(pos);\n            } else if(canTake(pos, color, boardState)) {\n                moves.push(pos);\n                break;\n            } else {\n                break;\n            }\n            count++;\n        }\n    }\n\n    return moves;\n}\nfunction getPawnMoves(fieldId: number, boardState: BoardState): number[] {\n    let moves = []\n    let piece = boardState.fields[fieldId];\n    let color = getColor(piece);\n\n    //normal move forward\n    let forwardId = fieldId + Math.sign(piece) * 8;\n    if (boardState.fields[forwardId] === Piece.Empty) {\n        moves.push(forwardId);\n\n        //check double forward\n        if ((piece === Piece.WhitePawn && fieldId >= 8 * 6) || (piece === Piece.BlackPawn && fieldId < 16)) {\n            let doubleForwardId = fieldId + Math.sign(piece) * 16;\n            if (boardState.fields[doubleForwardId] === Piece.Empty) {\n                moves.push(doubleForwardId);\n            }\n        }\n    }\n\n    //take to the right\n    let y = piece === Piece.WhitePawn ? -1 : 1;\n    let takeLeft = getPosition(fieldId, -1, y);\n    if (canTake(takeLeft, color, boardState)) {\n        moves.push(takeLeft as number);\n    }\n    let takeRight = getPosition(fieldId, 1, y);\n    if (canTake(takeRight, color, boardState)) {\n        moves.push(takeRight as number);\n    }\n\n    return moves;\n}\nfunction canTake(piece: number | undefined, turn: Color, boardState: BoardState) {\n    if (piece != undefined) {\n        let p = boardState.fields[piece]\n        if (isOtherColor(p, turn)) {\n            return true;\n        }\n    }\n\n    return false;\n}\nfunction getPosition(fieldId: number, x: number, y: number) {\n    let targetX = (fieldId % 8) + x;\n    let targetY = (Math.floor(fieldId / 8)) + y;\n    if (targetX < 0 || targetX >= 8 || targetY < 0 || targetY >= 8) {\n        return undefined;\n    }\n    return targetY * 8 + targetX;\n}\n\nexport function movePiece(from: number, to: number, boardState: BoardState) {\n    let movePiece = boardState.fields[from];\n    boardState.fields[from] = Piece.Empty;\n    // add \"to\" piece to taken pieces\n    let oldPiece = boardState.fields[to];\n    if (oldPiece !== Piece.Empty) {\n        boardState.takenPieces.push(oldPiece)\n    }\n\n    // transform pawns to queens\n    if (Math.floor(to / 8) == 0 && movePiece === Piece.WhitePawn || Math.floor(to / 8) == 7 && movePiece === Piece.BlackPawn) {\n        movePiece = movePiece / 3;\n    }\n\n    boardState.fields[to] = movePiece;\n}\nexport function getCoord(x: number, y: number): string {\n    let map = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\"];\n    return map[x] + (y + 1).toString();\n}\nexport function getCoordFromId(fieldId: number) {\n    return getCoord(fieldId % 8, 7 - Math.floor(fieldId / 8));\n}\nexport function getBackgroundColor(x: number, y: number): Color {\n    if (y % 2 != 0) {\n        return x % 2 === 0 ? Color.White : Color.Black;\n    }\n    else {\n        return x % 2 === 0 ? Color.Black : Color.White;\n    }\n}\nexport function calcFieldInfos(): FieldInfo[] {\n    let field: FieldInfo[] = []\n    for (let y = 7; y >= 0; y--) {\n        for (let x = 0; x < 8; x++) {\n            field.push({ background: getBackgroundColor(x, y), name: getCoord(x, y) })\n        }\n    }\n    return field;\n}\nexport function checkGameState(boardState: BoardState, turn: Color): GameResult {\n    let check = isOpponentInCheck(turn, boardState);\n\n    let movesPossible = boardState.fields.some((f, i) => {\n        if(isSameColorOrEmpty(f, turn)) { \n            return false;\n        }\n        let moves = calcPossibleMoves(i, boardState);\n        return moves.length > 0;\n    });\n\n    if(!movesPossible) {\n        turn = otherColor(turn);\n        if(check) {\n            return turn === Color.White ? GameResult.BlackWin : GameResult.WhiteWin;\n        } else {\n            return GameResult.Draw;\n        }\n    }\n\n    return GameResult.Pending;\n}\nexport function getInitialFields(): Piece[] {\n    let board: Piece[] = []\n    for (let y = 7; y >= 0; y--) {\n        for (let x = 0; x < 8; x++) {\n            let piece: Piece = Piece.Empty;\n\n            if (y === 7 || y === 0) {\n                if (x === 0 || x === 7) {\n                    piece = Piece.BlackRook;\n                }\n                if (x === 1 || x === 6) {\n                    piece = Piece.BlackKnight;\n                }\n                if (x === 2 || x === 5) {\n                    piece = Piece.BlackBishop;\n                }\n                if (x === 3) {\n                    piece = Piece.BlackQueen;\n                }\n                if (x === 4) {\n                    piece = Piece.BlackKing;\n                }\n            }\n            if (y === 6 || y === 1) {\n                piece = Piece.BlackPawn;\n            }\n\n            if ((y === 1 || y === 0) && piece != undefined) {\n                piece = -piece;\n            }\n\n            board.push(piece)\n        }\n    }\n    return board;\n}\n","import { calcFieldInfos, getInitialFields } from './chessRules';\n\nvar cloneDeep = require('lodash.clonedeep');\n\nexport class BoardState {\n  fields: Piece[] = [];\n  takenPieces: Piece[] = []; \n  constructor(field: Piece[]) {\n    this.fields = field;\n    this.takenPieces = [];\n  }\n  copy(): BoardState {\n    return cloneDeep(this);\n  }\n}\n\nexport class GameState {\n  fieldInfos: FieldInfo[] = [];\n  boardState: BoardState = new BoardState([]);\n  timerWhite: number = 0;\n  timerBlack: number = 0;\n  selectedPiece: number = -1;\n  possibleMoves: number[] = [];\n  turn: Color = Color.White;\n  isThinking: boolean = false;\n\n  constructor() {\n    this.timerWhite = 0;\n    this.timerBlack = 0;\n    this.selectedPiece = -1;\n    this.possibleMoves = [];\n    this.fieldInfos = calcFieldInfos();\n    this.turn = Color.White;\n    this.isThinking = false;\n    this.boardState = new BoardState(getInitialFields());\n  }\n\n  copy(): GameState {\n    return cloneDeep(this);\n  }\n}\n\nexport class FieldInfo {\n  background: Color = Color.White;\n  name: string = \"A8\";\n}\n\nexport enum Piece {\n  WhiteKing = -1,\n  WhiteQueen = -2,\n  WhiteRook = -3,\n  WhiteBishop = -4,\n  WhiteKnight = -5,\n  WhitePawn = -6,\n  Empty = 0,\n  BlackKing = 1,\n  BlackQueen = 2,\n  BlackRook = 3,\n  BlackBishop = 4,\n  BlackKnight = 5,\n  BlackPawn = 6,\n}\n\nexport enum Kind {\n    None = 0,\n    King = 1,\n    Queen = 2,\n    Rook = 3,\n    Bishop = 4,\n    Knight = 5,\n    Pawn = 6\n  }\n  \nexport enum Color {\n    Black = 0,\n    White = 1\n  }\n\nexport enum GameResult {\n  Pending,\n  WhiteWin,\n  BlackWin,\n  Draw\n}\n\nexport class Move {\n  source: number = 0;\n  target: number = 0;\n  constructor(source: number, target: number) {\n    this.source = source;\n    this.target = target;\n  }\n}","import { GameState, Color, Kind, GameResult, Move, Piece, BoardState } from './types';\nimport { getFieldIdsOfPieces, calcPossibleMoves, getCoordFromId, movePiece, checkGameState, getKind } from './chessRules';\n\nexport function calculateBestMove(gameState: GameState, depth: number): [Move, number] {\n    let startTime = performance.now();\n    let moveCount = 0;\n\n    let blackMoves = allMoves(gameState.boardState, Color.Black);\n    \n    let bestMoves: [Move, number][] = blackMoves.map(m => [m, -9999]);\n    \n    for(let blackMove of blackMoves) {\n        // do black move\n        let newStateBlack = gameState.boardState.copy();\n        let result = doAiMove(blackMove.source, blackMove.target, newStateBlack, Color.Black);\n        moveCount += 1;\n        // discard move if lost or draw\n        if(result === GameResult.Draw || result === GameResult.WhiteWin) {\n            continue;\n        }\n        // immediately return move if won\n        if(result === GameResult.BlackWin) {\n            return [blackMove, 9999]; \n        }\n\n        let whiteMoves = allMoves(newStateBlack, Color.White);\n        let worstScore = 9999;\n        for(let whiteMove of whiteMoves) {\n            let newStateWhite = newStateBlack.copy();\n            let result = doAiMove(whiteMove.source, whiteMove.target, newStateWhite, Color.White);\n            moveCount += 1;\n            // discard move if lost or draw\n            if(result === GameResult.Draw || result === GameResult.WhiteWin) {\n                continue;\n            }\n            // immediately return move if won\n            if(result === GameResult.BlackWin) {\n                return [blackMove, 9999]; \n            }\n          \n            if(depth > 1) {\n                // TODO\n            } else {\n                let score = calcBoardValue(newStateWhite);\n                if(score < worstScore) {\n                    worstScore = score;\n                }\n            }\n        }\n        // Check if the worst score of all the white moves is better than during the other black moves\n        if(worstScore === bestMoves[0][1]) {\n            bestMoves.push([blackMove, worstScore]);\n        }\n        if(worstScore > bestMoves[0][1]) {\n            bestMoves = []\n            bestMoves.push([blackMove, worstScore]);\n        }\n    }\n\n    let endTime = performance.now();\n    \n    // select random move from the best ones\n    let selectedMove = bestMoves[Math.floor(Math.random() * bestMoves.length)];\n\n    console.log(\"Selected move: \" + getCoordFromId(selectedMove[0].source) + \" -> \" + getCoordFromId(selectedMove[0].target))\n    console.log(\"Time: \" + (endTime - startTime) + \" ms\");\n    console.log(\"Move Count: \" + moveCount);\n\n    return selectedMove;\n}\n\nfunction doAiMove(source: number, target: number, boardState: BoardState, turn: Color) {\n    movePiece(source, target, boardState);\n\n    let result = checkGameState(boardState, turn);\n    if(result !== GameResult.Pending) {\n        return result;\n    }\n\n    return GameResult.Pending;\n}\n\nfunction allMoves(boardState: BoardState, color: Color) {\n    let pieces = getFieldIdsOfPieces(color, boardState);\n    \n    let allMoves = pieces.flatMap(fieldId => {\n        let moves = calcPossibleMoves(fieldId, boardState);\n        return moves.map(m => new Move(fieldId, m));\n    });\n\n    return allMoves;\n}\n\nfunction calcPieceValue(kind: Kind): number {\n    if(kind === Kind.Pawn) {\n        return 1;\n    }\n    if(kind === Kind.Bishop || kind === Kind.Knight) {\n        return 3;\n    }\n    if(kind === Kind.Rook) {\n        return 5;\n    }\n    if(kind === Kind.Queen) {\n        return 9;\n    }\n    if(kind === Kind.King) {\n        return 0;\n    }\n\n    throw new RangeError(\"Unknown Kind: \" + kind);\n}\n\nexport function calcBoardValue(boardState: BoardState): number {\n    let value = 0;\n    \n    for(let p of boardState.fields) {\n        if(p === Piece.Empty) {\n            continue;\n        }\n\n        let pieceValue = calcPieceValue(getKind(p));\n        value += Math.sign(p) * pieceValue;\n    }\n    return value;\n}","import { Color, Kind, Piece, GameState, GameResult } from './types';\nimport { calcPossibleMoves, isOpponentInCheck, movePiece, getBackgroundColor, getCoord, checkGameState, isSameColor, otherColor } from './chessRules'\nimport { calculateBestMove } from './chessAi';\nvar cloneDeep = require('lodash.clonedeep');\n\nexport class ChessHelpers {\n    timerId: number = 0;\n    clickField(fieldId: number, gameState: GameState): GameResult {     \n        if(gameState.turn == Color.Black) {\n            // black is an ai and cannot be controlled by clicking\n            return GameResult.Pending;\n        }\n\n        return this.clickFieldRaw(fieldId, gameState);\n    }\n    clickFieldRaw(fieldId: number, gameState: GameState): GameResult {     \n       \n        // if already selected -> deselect\n        if (gameState.selectedPiece === fieldId) {\n            gameState.selectedPiece = -1;\n            gameState.possibleMoves = [];\n            return GameResult.Pending;\n        }\n\n        // if a piece of the person whos turn it is -> select\n        let p = gameState.boardState.fields[fieldId]\n        if (isSameColor(p, gameState.turn)) {\n            gameState.selectedPiece = fieldId;\n            gameState.possibleMoves = calcPossibleMoves(fieldId, gameState.boardState);\n            return GameResult.Pending;\n        }\n\n        // if this is a legal move -> do it\n        if (gameState.possibleMoves.includes(fieldId)) {\n            return this.doMove(fieldId, gameState);\n        }\n        \n        return GameResult.Pending;\n    }\n    doMove(fieldId: number, gameState: GameState) {\n        movePiece(gameState.selectedPiece, fieldId, gameState.boardState);\n        gameState.selectedPiece = -1;\n        gameState.possibleMoves = [];\n        clearInterval(this.timerId);\n\n        let result = checkGameState(gameState.boardState, gameState.turn);\n        if(result !== GameResult.Pending) {\n            gameState.turn = otherColor(gameState.turn);\n            return result;\n        }\n\n        if(gameState.turn === Color.White) {\n            this.timerId = setInterval(() => gameState.timerBlack++, 1000);\n            gameState.turn = Color.Black;\n        } else {\n            this.timerId = setInterval(() => gameState.timerWhite++, 1000);\n            gameState.turn = Color.White;\n        }\n\n        return GameResult.Pending;\n    }\n    startBackgroundAi(gameState: GameState): GameResult {\n        let result = calculateBestMove(gameState, 1);\n        let move = result[0];\n        let tempResult = this.clickFieldRaw(move.source, gameState);\n        if(tempResult != GameResult.Pending) {\n            alert('WTF');\n        }\n        return this.clickFieldRaw(move.target, gameState);\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"figure\",class:{ white: _vm.IsWhiteBackground(), 'is-clickable': _vm.clickable }},[_c('svg',{staticClass:\"display-block\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\",\"viewBox\":\"0 0 45 45\"}},[_c('text',{staticClass:\"unselectable\",class:{ 'text-color-white': _vm.IsWhiteBackground(), 'text-color-black': !_vm.IsWhiteBackground() },attrs:{\"x\":\"1\",\"y\":\"10\",\"font-size\":\"12\"}},[_vm._v(_vm._s(_vm.fieldInfo.name))])]),_c('ChessPiece',{staticClass:\"fixed-pos\",attrs:{\"piece\":_vm.field,\"selected\":_vm.selected}}),(_vm.possible && _vm.field == 0)?_c('svg',{staticClass:\"fixed-pos\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\",\"viewBox\":\"0 0 45 45\"}},[_c('circle',{staticClass:\"move-possible\",attrs:{\"cx\":\"22.5\",\"cy\":\"22.5\",\"r\":\"7\"}})]):_vm._e(),(_vm.possible && _vm.field != 0)?_c('svg',{staticClass:\"fixed-pos\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\",\"viewBox\":\"0 0 45 45\"}},[_c('rect',{staticClass:\"move-possible-rect\",staticStyle:{\"fill\":\"transparent\",\"stroke-width\":\"11px\"},attrs:{\"x\":\"1.8\",\"y\":\"-30\",\"width\":\"60\",\"height\":\"60\"}})]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"fill-stroke-black\",class:{ selected : _vm.selected, selectable : !_vm.selected  },attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\",\"viewBox\":\"0 0 45 45\"}},[(_vm.IsWhite() && _vm.IsKing())?_c('g',{staticStyle:{\"fill\":\"none\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 22.5,11.63 L 22.5,6\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 20,8 L 25,8\"}}),_c('path',{staticStyle:{\"fill\":\"#ffffff\",\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"}}),_c('path',{staticStyle:{\"fill\":\"#ffffff\"},attrs:{\"d\":\"M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z \"}}),_c('path',{staticStyle:{\"fill\":\"none\"},attrs:{\"d\":\"M 11.5,30 C 17,27 27,27 32.5,30\"}}),_c('path',{staticStyle:{\"fill\":\"none\"},attrs:{\"d\":\"M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\"},attrs:{\"d\":\"M 11.5,37 C 17,34 27,34 32.5,37\"}})]):_vm._e(),(_vm.IsWhite() && _vm.IsQueen())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill\":\"#ffffff\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{attrs:{\"d\":\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\",\"transform\":\"translate(-1,-1)\"}}),_c('path',{attrs:{\"d\":\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\",\"transform\":\"translate(15.5,-5.5)\"}}),_c('path',{attrs:{\"d\":\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\",\"transform\":\"translate(32,-1)\"}}),_c('path',{attrs:{\"d\":\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\",\"transform\":\"translate(7,-4.5)\"}}),_c('path',{attrs:{\"d\":\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\",\"transform\":\"translate(24,-4)\"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z \"}}),_c('path',{staticStyle:{\"fill\":\"none\"},attrs:{\"d\":\"M 11.5,30 C 15,29 30,29 33.5,30\"}}),_c('path',{staticStyle:{\"fill\":\"none\"},attrs:{\"d\":\"M 12,33.5 C 18,32.5 27,32.5 33,33.5\"}})]):_vm._e(),(_vm.IsWhite() && _vm.IsBishop())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill\":\"none\",\"fill-rule\":\"evenodd\",\"fill-opacity\":\"1\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('g',{staticStyle:{\"fill\":\"#ffffff\",\"stroke-linecap\":\"butt\"}},[_c('path',{attrs:{\"d\":\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z\"}}),_c('path',{attrs:{\"d\":\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"}}),_c('path',{attrs:{\"d\":\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"}})]),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"}})]):_vm._e(),(_vm.IsWhite() && _vm.IsKnight())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill\":\"none\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{staticStyle:{\"fill\":\"#ffffff\"},attrs:{\"d\":\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"}}),_c('path',{staticStyle:{\"fill\":\"#ffffff\"},attrs:{\"d\":\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"}}),_c('path',{attrs:{\"d\":\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"}}),_c('path',{attrs:{\"d\":\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\"transform\":\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"}})]):_vm._e(),(_vm.IsWhite() && _vm.IsRook())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill\":\"#ffffff\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14\"}}),_c('path',{attrs:{\"d\":\"M 34,14 L 31,17 L 14,17 L 11,14\"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 31,17 L 31,29.5 L 14,29.5 L 14,17\"}}),_c('path',{attrs:{\"d\":\"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 11,14 L 34,14\"}})]):_vm._e(),(_vm.IsWhite() && _vm.IsPawn())?_c('g',[_c('path',{staticStyle:{\"opacity\":\"1\",\"fill\":\"#ffffff\",\"fill-opacity\":\"1\",\"fill-rule\":\"nonzero\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"miter\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"},attrs:{\"d\":\"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z \"}})]):_vm._e(),(_vm.IsBlack() && _vm.IsKing())?_c('g',{staticStyle:{\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 22.5,11.63 L 22.5,6\"}}),_c('path',{staticStyle:{\"fill-opacity\":\"1\",\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"}}),_c('path',{attrs:{\"d\":\"M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z \"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 20,8 L 25,8\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37\"}})]):_vm._e(),(_vm.IsBlack() && _vm.IsQueen())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('g',{staticStyle:{\"stroke\":\"none\"}},[_c('circle',{attrs:{\"cx\":\"6\",\"cy\":\"12\",\"r\":\"2.75\"}}),_c('circle',{attrs:{\"cx\":\"14\",\"cy\":\"9\",\"r\":\"2.75\"}}),_c('circle',{attrs:{\"cx\":\"22.5\",\"cy\":\"8\",\"r\":\"2.75\"}}),_c('circle',{attrs:{\"cx\":\"31\",\"cy\":\"9\",\"r\":\"2.75\"}}),_c('circle',{attrs:{\"cx\":\"39\",\"cy\":\"12\",\"r\":\"2.75\"}})]),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 11,38.5 A 35,35 1 0 0 34,38.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 11,29 A 35,35 1 0 1 34,29\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 12.5,31.5 L 32.5,31.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5\"}})]):_vm._e(),(_vm.IsBlack() && _vm.IsBishop())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill-rule\":\"evenodd\",\"fill-opacity\":\"1\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('g',{staticStyle:{\"stroke-linecap\":\"butt\"}},[_c('path',{attrs:{\"d\":\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z\"}}),_c('path',{attrs:{\"d\":\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"}}),_c('path',{attrs:{\"d\":\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"}})]),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"}})]):_vm._e(),(_vm.IsBlack() && _vm.IsKnight())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{attrs:{\"d\":\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"}}),_c('path',{attrs:{\"d\":\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"}}),_c('path',{staticStyle:{\"fill\":\"#ffffff\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"}}),_c('path',{staticStyle:{\"fill\":\"#ffffff\",\"stroke\":\"#ffffff\"},attrs:{\"d\":\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\"transform\":\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"}}),_c('path',{staticStyle:{\"fill\":\"#ffffff\",\"stroke\":\"none\"},attrs:{\"d\":\"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z \"}})]):_vm._e(),(_vm.IsBlack() && _vm.IsRook())?_c('g',{staticStyle:{\"opacity\":\"1\",\"fill-opacity\":\"1\",\"fill-rule\":\"evenodd\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"}},[_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z \"}}),_c('path',{staticStyle:{\"stroke-linecap\":\"butt\"},attrs:{\"d\":\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z \"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\",\"stroke-width\":\"1\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 12,35.5 L 33,35.5 L 33,35.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\",\"stroke-width\":\"1\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 13,31.5 L 32,31.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\",\"stroke-width\":\"1\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 14,29.5 L 31,29.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\",\"stroke-width\":\"1\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 14,16.5 L 31,16.5\"}}),_c('path',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#ffffff\",\"stroke-width\":\"1\",\"stroke-linejoin\":\"miter\"},attrs:{\"d\":\"M 11,14 L 34,14\"}})]):_vm._e(),(_vm.IsBlack() && _vm.IsPawn())?_c('g',[_c('path',{staticStyle:{\"opacity\":\"1\",\"fill-opacity\":\"1\",\"fill-rule\":\"nonzero\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"miter\",\"stroke-miterlimit\":\"4\",\"stroke-dasharray\":\"none\",\"stroke-opacity\":\"1\"},attrs:{\"d\":\"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z \"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { Kind, Color, Piece } from \"@/types\";\nimport { isSameColor, getKind } from '@/chessRules';\n\n@Component\nexport default class ChessPiece extends Vue {\n  @Prop() private piece!: Piece;\n  @Prop() private selected!: boolean;\n\n  IsBlack() {\n    return isSameColor(this.piece, Color.Black);\n  }\n  IsWhite() {\n    return isSameColor(this.piece, Color.White);\n  }\n  IsKing() {\n    return getKind(this.piece) === Kind.King;\n  }\n  IsQueen() {\n    return getKind(this.piece) === Kind.Queen;\n  }\n  IsBishop() {\n    return getKind(this.piece) === Kind.Bishop;\n  }\n  IsRook() {\n    return getKind(this.piece) === Kind.Rook;\n  }\n  IsPawn() {\n    return getKind(this.piece) === Kind.Pawn;\n  }\n  IsKnight() {\n    return getKind(this.piece) === Kind.Knight;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessPiece.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessPiece.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChessPiece.vue?vue&type=template&id=20be2b0c&scoped=true&\"\nimport script from \"./ChessPiece.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChessPiece.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ChessPiece.vue?vue&type=style&index=0&id=20be2b0c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20be2b0c\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { Color, FieldInfo, Piece } from \"@/types\";\nimport ChessPiece from \"./ChessPiece.vue\";\nimport { isSameColor } from '@/chessRules';\n\n@Component({\n  components: {\n    ChessPiece\n  }\n})\nexport default class ChessField extends Vue {\n  @Prop() private fieldInfo!: FieldInfo;\n  @Prop() private field!: Piece;\n  @Prop() private selected!: boolean;\n  @Prop() private possible!: boolean;\n  @Prop() private clickable!: boolean;\n  IsWhiteBackground() {\n    return this.fieldInfo.background == Color.White;\n  }\n  IsWhitePiece() {\n    return isSameColor(this.field, Color.White);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChessField.vue?vue&type=template&id=4f8bca4c&scoped=true&\"\nimport script from \"./ChessField.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChessField.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ChessField.vue?vue&type=style&index=0&id=4f8bca4c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f8bca4c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"border\"},[_c('div',{staticClass:\"info-grid\"},[_c('button',{staticClass:\"move-button shadow\",attrs:{\"disabled\":!_vm.isBlackTurn() || _vm.isThinking()},on:{\"click\":function($event){return _vm.onClickMove()}}},[_vm._v(_vm._s(_vm.isThinking() ? \"Thinking\" : \"Move\"))]),_vm._l((_vm.whiteTakenPieces()),function(p,k){return _c('ChessPiece',{key:k,style:({ gridColumn: p.column, gridRow: 1 }),attrs:{\"piece\":p.piece}})})],2)]),_c('div',{staticClass:\"border\"},[_c('div',{staticClass:\"board shadow\"},_vm._l((_vm.getFieldAndFieldInfo()),function(p,k){return _c('ChessField',{key:k,attrs:{\"field\":p[0],\"fieldInfo\":p[1],\"possible\":_vm.gameState.possibleMoves.includes(k),\"selected\":k === _vm.gameState.selectedPiece,\"clickable\":_vm.isClickable(k)},nativeOn:{\"click\":function($event){return _vm.onClick(k)}}})}),1)]),_c('div',{staticClass:\"border\"},[_c('div',{staticClass:\"info-grid\"},[_c('div',{staticClass:\"info-text shadow\"},[_vm._v(_vm._s(_vm.whiteTime()))]),_vm._l((_vm.blackTakenPieces()),function(p,k){return _c('ChessPiece',{key:k,style:({ gridColumn: p.column, gridRow: 1 }),attrs:{\"piece\":p.piece}})})],2)]),(_vm.IsDraw() || _vm.IsWhiteWin() || _vm.IsBlackWin())?_c('div',{staticClass:\"modal\"},[_c('div',{staticClass:\"modal-content\"},[_c('span',{staticClass:\"close\",on:{\"click\":function($event){return _vm.CloseModal()}}},[_vm._v(\"\")]),(_vm.IsDraw())?_c('p',[_vm._v(\"Game ended in a DRAW.\")]):_vm._e(),(_vm.IsWhiteWin())?_c('p',[_vm._v(\"White WIN\")]):_vm._e(),(_vm.IsBlackWin())?_c('p',[_vm._v(\"Black WIN\")]):_vm._e(),_c('p',[_vm._v(\"Reload the site to start a new game\")])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { Color, GameResult, Piece, GameState } from \"@/types\";\nimport ChessField from \"./ChessField.vue\";\nimport ChessPiece from \"./ChessPiece.vue\";\nimport { ChessHelpers } from \"@/chessHelpers\";\nimport { isSameColor } from '../chessRules';\n\n@Component({\n  components: {\n    ChessField,\n    ChessPiece\n  }\n})\nexport default class ChessBoard extends Vue {\n  @Prop() private gameState!: GameState;\n  chessHelper = new ChessHelpers();\n  gameResult: GameResult = GameResult.Pending;\n  getFieldAndFieldInfo() {\n    let zipped = this.gameState.boardState.fields.map((x, i) => [x, this.gameState.fieldInfos[i]]);\n    return zipped;\n  }\n  IsDraw() {\n    return this.gameResult == GameResult.Draw;\n  }\n  isBlackTurn() {\n    return this.gameState.turn === Color.Black;\n  }\n  isThinking() {\n    return this.gameState.isThinking;\n  }\n  IsWhiteWin() {\n    return this.gameResult == GameResult.WhiteWin;\n  }\n  IsBlackWin() {\n    return this.gameResult == GameResult.BlackWin;\n  }\n  CloseModal() {\n    this.gameResult = GameResult.Pending;\n  }\n  whiteTakenPieces() {\n    let whitePieces = this.gameState.boardState.takenPieces.filter(\n      p => p < 0\n    );\n    return whitePieces.map((p, i) => {\n      return { column: 18 - i, piece: p };\n    });\n  }\n  blackTakenPieces() {\n    let whitePieces = this.gameState.boardState.takenPieces.filter(\n      p => p > 0\n    );\n    return whitePieces.map((p, i) => {\n      return { column: 18 - i, piece: p };\n    });\n  }\n  whiteTime() {\n    return this.timeDisplay(this.gameState.timerWhite);\n  }\n  blackTime() {\n    return this.timeDisplay(this.gameState.timerBlack);\n  }\n  timeDisplay(time: number) {\n    let seconds = time % 60;\n    let minutes = Math.round(time / 60);\n    return (\"0\" + minutes).slice(-2) + \":\" + (\"0\" + seconds).slice(-2);\n  }\n  onClick(id: number) {\n    this.gameResult = this.chessHelper.clickField(id, this.gameState);\n  }\n  onClickMove() {\n    this.gameState.isThinking = true;\n    this.gameResult = this.chessHelper.startBackgroundAi(this.gameState);\n    this.gameState.isThinking = false;\n  }\n  isClickable(id: number) {\n    if (id === this.gameState.selectedPiece) {\n      return true;\n    }\n\n    if (\n      this.gameState.selectedPiece != -1 &&\n      this.gameState.possibleMoves.includes(id)\n    ) {\n      return true;\n    }\n\n    return isSameColor(this.gameState.boardState.fields[id], this.gameState.turn);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessBoard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessBoard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChessBoard.vue?vue&type=template&id=80130346&scoped=true&\"\nimport script from \"./ChessBoard.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChessBoard.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ChessBoard.vue?vue&type=style&index=0&id=80130346&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"80130346\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { GameState } from \"./types\";\nimport { ChessHelpers } from \"./chessHelpers\"\nimport ChessField from \"./components/ChessField.vue\";\nimport ChessBoard from \"./components/ChessBoard.vue\";\nimport ChessPiece from './components/ChessPiece.vue';\n\n@Component({\n  components: {\n    ChessBoard,\n    ChessField,\n    ChessPiece,\n  }\n})\nexport default class App extends Vue {\n  chessHelper = new ChessHelpers();\n  gameState: GameState = new GameState();\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=29ff4e3e&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessField.vue?vue&type=style&index=0&id=4f8bca4c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessField.vue?vue&type=style&index=0&id=4f8bca4c&scoped=true&lang=scss&\""],"sourceRoot":""}